{"version":3,"sources":["./node_modules/ng-navigator-share/__ivy_ngcc__/fesm2015/ng-navigator-share.js","./src/app/meta.service.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { __awaiter } from 'tslib';\nimport { Injectable, ɵɵdefineInjectable } from '@angular/core';\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/ng-navigator-share/ng-navigator-share.service.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\nclass NgNavigatorShareService {\r\n    constructor() {\r\n        this.webNavigator = null;\r\n        this.webNavigator = window.navigator;\r\n    }\r\n    /**\r\n     * @param {?} __0\r\n     * @return {?}\r\n     */\r\n    share({ title, text, url }) {\r\n        return new Promise((/**\r\n         * @param {?} resolve\r\n         * @param {?} reject\r\n         * @return {?}\r\n         */\r\n        (resolve, reject) => __awaiter(this, void 0, void 0, function* () {\r\n            if (this.webNavigator !== null && this.webNavigator.share !== undefined) {\r\n                if ((text === undefined || text === null) &&\r\n                    (url === undefined || url === null)) {\r\n                    console.warn(`text and url both can't be empty, at least provide either text or url`);\r\n                }\r\n                else {\r\n                    try {\r\n                        /** @type {?} */\r\n                        const isShared = yield this.webNavigator.share({\r\n                            title: title,\r\n                            text: text,\r\n                            url: url,\r\n                        });\r\n                        resolve({\r\n                            shared: true\r\n                        });\r\n                    }\r\n                    catch (error) {\r\n                        reject({\r\n                            shared: false,\r\n                            error: error\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                reject({\r\n                    shared: false,\r\n                    error: `This service/api is not supported in your Browser`\r\n                });\r\n            }\r\n        })));\r\n    }\r\n}\nNgNavigatorShareService.ɵfac = function NgNavigatorShareService_Factory(t) { return new (t || NgNavigatorShareService)(); };\nNgNavigatorShareService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NgNavigatorShareService, factory: NgNavigatorShareService.ɵfac, providedIn: 'root' });\r\n/** @nocollapse */\r\nNgNavigatorShareService.ctorParameters = () => [];\r\n/** @nocollapse */ NgNavigatorShareService.ngInjectableDef = ɵɵdefineInjectable({ factory: function NgNavigatorShareService_Factory() { return new NgNavigatorShareService(); }, token: NgNavigatorShareService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgNavigatorShareService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\r\nif (false) {\r\n    /** @type {?} */\r\n    NgNavigatorShareService.prototype.webNavigator;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: public_api.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: ng-navigator-share.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { NgNavigatorShareService };\n\n//# sourceMappingURL=ng-navigator-share.js.map","import { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ScullyRoute } from '@scullyio/ng-lib';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MetaService {\n  constructor(\n    @Inject(DOCUMENT) private dom,\n    public meta: Meta,\n    private title: Title,\n  ) {}\n\n  createCanonicalURL(url?: string) {\n    const canURL = url === undefined ? this.dom.URL : url;\n    let link: HTMLLinkElement = document.querySelector('link[rel=\"canonical\"]');\n    if (link) {\n      link.setAttribute('href', canURL);\n    } else {\n      link = this.dom.createElement('link');\n      link.setAttribute('rel', 'canonical');\n      this.dom.head.appendChild(link);\n      link.setAttribute('href', canURL);\n    }\n  }\n\n  createMetaDataForPost(post: ScullyRoute) {\n    this.removeAllKnownTags();\n    this.setTitle(post.title);\n    this.setDescription(post.description);\n    this.createCanonicalURL(post.publishedAtUrl);\n    this.createTwitterCardForBlogPost(post);\n    this.createOpenGraphProfileForBlogPost(post);\n  }\n\n  private setTitle(title: string) {\n    this.title.setTitle(`D-Koppenhagen.de | ${title}`);\n  }\n\n  private setDescription(description: string) {\n    this.meta.updateTag({ name: 'description', content: description });\n  }\n\n  private createTwitterCardForBlogPost(post: ScullyRoute) {\n    this.meta.updateTag({\n      name: 'twitter:card',\n      content: 'summary',\n    });\n    this.meta.updateTag({\n      name: 'twitter:site',\n      content: '@d_koppenhagen',\n    });\n    this.meta.updateTag({\n      name: 'twitter:creator',\n      content: '@d_koppenhagen',\n    });\n    this.meta.updateTag({\n      name: 'twitter:title',\n      content: post.title,\n    });\n    this.meta.updateTag({\n      name: 'twitter:description',\n      content: post.description,\n    });\n    this.meta.updateTag({\n      name: 'twitter:image',\n      content: `https://d-koppenhagen.de/${post.thumbnail}`,\n    });\n  }\n\n  private createOpenGraphProfileForBlogPost(post: ScullyRoute) {\n    this.meta.updateTag({ property: 'og:title', content: post.title });\n    this.meta.updateTag({\n      property: 'og:description',\n      content: post.description,\n    });\n    this.meta.updateTag({\n      name: 'og:image',\n      content: `https://d-koppenhagen.de/${post.thumbnail}`,\n    });\n    this.meta.updateTag({\n      name: 'og:url',\n      content: `https://d-koppenhagen.de${post.route}`,\n    });\n  }\n\n  private removeAllKnownTags() {\n    this.meta.removeTag(`property='og:title'`);\n    this.meta.removeTag(`name='twitter:title'`);\n    this.meta.removeTag(`name='description'`);\n    this.meta.removeTag(`property='og:description'`);\n    this.meta.removeTag(`name='twitter:description'`);\n    this.meta.removeTag(`property='og:image'`);\n    this.meta.removeTag(`property='og:image:width'`);\n    this.meta.removeTag(`property='og:image:height'`);\n    this.meta.removeTag(`name='twitter:image'`);\n    this.meta.removeTag(`name='twitter:card'`);\n    this.meta.removeTag(`name='twitter:site'`);\n    this.meta.removeTag(`property='og:url'`);\n    this.meta.removeTag(`property='og:locale'`);\n    this.meta.removeTag(`property='og:type'`);\n    this.meta.removeTag(`property='fb:app_id'`);\n  }\n}\n"],"sourceRoot":"webpack:///"}